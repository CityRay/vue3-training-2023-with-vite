import{_ as u,r as h,o as i,c,b as _,a as s,t as r,F as a,g,v as m,f as y}from"./index-9hlq6F06.js";const l="https://vue3-course-api.hexschool.io/v2/api/rayray-project",v={data(){return{isLoading:!0,product:{},qty:1}},methods:{getProduct(e){this.$http.get(`${l}/product/${e}`).then(o=>{this.product=o.data.product,this.isLoading=!1}).catch(o=>{alert(o.response.data.message)})},addToCart(){this.isLoading=!0;const e={product_id:this.product.id,qty:this.qty};this.$http.post(`${l}/cart`,{data:e}).then(o=>{this.$router.push("/cart")}).catch(o=>{alert(o.response.data.message)}).finally(()=>{this.isLoading=!1})}},mounted(){var e;this.getProduct((e=this.$route.params)==null?void 0:e.id)}},f={key:0,class:"row"},b=s("h1",null,"產品介紹",-1),L={class:"col-sm-6"},k=["src"],C={class:"col-sm-6"},V={class:"badge bg-primary rounded-pill"},q={key:0,class:"h5"},x={class:"h6"},P={class:"h5"},T={class:"input-group"};function B(e,o,D,N,t,d){const p=h("VueLoading");return i(),c(a,null,[_(p,{active:t.isLoading},null,8,["active"]),t.product.id?(i(),c("div",f,[b,s("div",L,[s("img",{class:"img-fluid",src:t.product.imageUrl,alt:"商品圖片"},null,8,k)]),s("div",C,[s("span",V,r(t.product.category),1),s("p",null,"商品描述："+r(t.product.description),1),s("p",null,"商品內容："+r(t.product.content),1),t.product.origin_price==t.product.price?(i(),c("div",q,r(t.product.origin_price)+" 元 ",1)):(i(),c(a,{key:1},[s("del",x,"原價 "+r(t.product.origin_price)+" 元",1),s("div",P,"現在只要 "+r(t.product.price)+" 元",1)],64)),s("div",null,[s("div",T,[g(s("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":o[0]||(o[0]=n=>t.qty=n)},null,512),[[m,t.qty]]),s("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=(...n)=>d.addToCart&&d.addToCart(...n))}," 加入購物車 ")])])])])):y("",!0)],64)}const w=u(v,[["render",B]]);export{w as default};
